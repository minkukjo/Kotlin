# NoSQL

이름 그대로 SQL을 사용하지 않는다는 의미의 DB 입니다.

가장 큰 특징은 두가지 입니다.

- 스키마 없음
- 관계 없음

기존 RDBMS에서 사용되는 스키마는 각 테이블마다 어떤 데이터가 들어가는지를 명확하게 하는데 사용되어 왔습니다.

또한 테이블간의 관계를 통해 하나의 테이블이 한 종류의 데이터를 다루기 때문에 부정확한 데이터를 다룰일이 없었습니다.

NoSQL은 이러한 기존의 RDBMS와는 다르게 데이터를 규약없이 저장할 수 있습니다.

<img width="801" alt="스크린샷 2019-11-24 오후 10 32 53" src="https://user-images.githubusercontent.com/43809168/69495433-6366ea00-0f0a-11ea-9f7d-2bae0ff55ab1.png">

RDBMS에서 사용되던 레코드는 NoSQL에서 Document라고 부릅니다.

이 Document는 JSON 데이터 형식과 비슷하게 되어있으며

데이터를 삽입함에 있어 규약이 없습니다.

즉, RDB와 다르게 비정형 데이터를 삽입할 수 있습니다.

또한 Collection은 DB의 Table이라고 보면 됩니다.

기존 관계가 없기 때문에 RDB에서 사용되는 Join없이 이미 완성된 Document를 만들어 데이터를 저장합니다.

그럼 NoSQL을 사용하는 것이 항상 정답일까요? NoSQL은 RDBMS를 대체할 수 있을까요?

정답은 **그렇지 않습니다.**

그럼 이 NoSQL은 언제 사용할 수 있을까요?

지금부터 어떤 상황에서 NoSQL을 사용하고 RDBMS를 사용하는지에 대해 장,단점을 비교해보겠습니다.

## NoSQL VS RDBMS

**RDBMS의 장점**

- 명확히 정의된 데이터, **데이터 무결성 보장**
- 관계는 데이터를 중복없이 **한번만** 저장

**RDBMS의 단점**

- 장점에서 언급한 부분이 동시에 단점 (...)
- 스키마는 사전에 정의해야만 한다. (추후에 수정하기가 번거롭다.)
- 초기 DB 설계에 시간이 들어간다.
- 관계를 맺기 때문에 **복잡한 Join**이 들어갈 수 있다.
- **수평적** 확장이 어렵고, **수직적** 확장만 가능하다.

**NoSQL의 장점**

- 스키마를 정의할 필요가 없다. 유연하다. 
- 사용자가 필요한 만큼만 데이터를 저장하기 때문에 응답속도가 빠르다. 
- **수직적**/**수평적** 확장이 모두 용이하다. 

**NoSQL의 단점**

- 그 유연함이 때로는 독이 될 수 있다.
- 데이터 중복이 있기 때문에 여러 문서를 Update 해야할 경우 Collection 별로 모두 Update 해주어야만 한다.
- 데이터 일관성을 보장해주지 않는다.

NoSQL과 RDBMS는 일종의 trade-off 관계임을 알 수 있습니다.

RDBMS의 장점이 너무나 명확하기 때문에 NoSQL이 RDBMS를 대체할 수는 없지만, 

특정 상황에서는 RDBMS를 사용하는 것 보다 NoSQL을 사용하는 것이 더 성능적 이점을 얻을 수 있습니다.

가령, Log 데이터의 경우 매일 엄청난 양의 데이터에 Transaction을 보장할 이유는 없으며, 또한 Log 데이터의 경우 변경이 자주 일어나는 데이터가 아닙니다.

이러한 경우에는 NoSQL을 사용하는 것이 더 성능상 이점을 얻을 수 있습니다.

실제로 Facebook이나 트위터같은 소셜 네트워크 서비스의 경우 게시글을 NoSQL에 저장하고 있습니다.

이는 게시글이 중앙 DB에 저장하는데 걸리는 시간이 너무 오래 걸리기 때문에, 분산 저장 가능한 NoSQL이 강점을 보일 수 있기 때문입니다.

그러나 데이터의 일관성을 보장해야 하는 상황에서 NoSQL은 좋은 해답이 아닐 수 있습니다.

## 결론

NoSQL과 RDBMS는 상호 보완적 DB 입니다.

서비스의 목적에 따라 RDBMS를 사용할지 NoSQL를 사용할지 정하는 것은

백엔드 개발자의 중요한 능력 중 하나입니다.

그렇기 때문에 둘의 차이와 강점을 명확히 알아두도록 합시다.


## Reference

[https://siyoon210.tistory.com/130](https://siyoon210.tistory.com/130)
