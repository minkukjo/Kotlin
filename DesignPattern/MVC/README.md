# MVC

MVC는 Model-View-Controller의 약자이다.

어플리케이션을 세가지 역할로 구분한 개발방법론이다.

![1262](https://user-images.githubusercontent.com/43809168/73119896-59657400-3fab-11ea-9f15-2cdd5272f20a.png)

## Controller (C)

클라이언트로 부터 요청을 받았을 때 그 요청에 실제 업무를 수행하는 모델 컴포넌트를 호출한다.

또한 클라이언트가 보낸 데이터가 있다면 모델에 전달하기 쉽게 데이터를 가공해준다.

모델이 업무를 마치면 결과를 뷰에게 전달한다.

## Model (M)

Model은 컨트롤러가 호출할 때 요청에 맞는 역할을 수행한다.

비즈니스 로직을 구현하는 영역으로, 응용프로그램에서 데이터를 처리하는 부분이다.

비즈니스 로직이란 업무에 필요한 데이터처리를 수행하는 응용프로그램의 일부라고 할 수 있다.

DB에 연결하고 데이터를 추출하거나 저장,삭제,업데이트,변환 등의 작업을 Model에서 수행한다.

## View (뷰)

컨트롤러로부터 받은 모델의 결과값을 갖고 사용자에게 출력할 화면을 만드는 일을 한다.

## MVC의 구동 원리

![스크린샷 2020-01-25 오후 7 47 43](https://user-images.githubusercontent.com/43809168/73119920-92054d80-3fab-11ea-9ad2-78761be0b183.png)

1. 웹 브라우저가 웹 서버에 웹 어플리케이션 실행을 요청한다. (MVC 구조가 WAS라고 볼 수 있다.)

2. 웹 서버는 들어온 요청을 처리할 서블릿을 찾아서 요청을 전달한다.

3. 서블릿은 모델 자바 객체를 호출한다.

4. 요청에 관한 비즈니스로직을 처리하고 결과 값 객체를 생성한다.

5. 업무 수행을 마친 결과 값을 컨트롤러에게 반환한다.

6. 컨트롤러는 모델로부터 받은 결과 값을 View에게 전달한다.

7. JSP는 전달받은 값을 참조하여 출력할 결과 화면을 만들고 컨트롤러에게 전달한다.

8. 뷰로부터 받은 화면을 웹 서버에게 전달한다.

9. 웹 브라우저는 웹 서버로부터 요청한 결과값을 응답받으면 그 값을 화면에 출력한다.

## 모델 1과 모델 2

JSP 웹사이트 구조는 크게 모델 1과 모델 2 방식으로 나뉜다.

간단히 분류하자면 Controller의 기능을 JSP단에서 수행하느냐, 안하느냐에 따라 모델 1과 모델 2로 나뉘어진다.

## 모델 1

사용자 <-> [View[Model]]

모델 1 구조는 사용자의 요청을 JSP가 모두 처리한다.

웹 브라우저 사용자의 요청을 받은 JSP는 모델에 사용자가 요청한 작업을 처리하게 시키고 모델은 그 결과를 JSP에 반환하고 JSP는 그 값을 다시 사용자에게 보여준다.

## 모델 2

모델1 구조에는 문제점이 있다.

View에서 모든 처리를 담당하다 보니 웹 어플리케이션이 복잡해질수록 유지보수가 어려워졌고, 디자이너와 개발자간의 의사소통이 더욱 더 중요해졌다.

그래서 개선된 Model2는 JSP는 뷰만 담당하고 Controller에서 사용자의 요청에 대한 처리와 응답을 담당하게 한다.

장점은 대규모 어플리케이션 개발에 용이하다는 장점이 있으나 단점은 소규모 프로젝트의 경우 오히려 모델2로 개발할 경우 복잡성 때문에 역효과를 볼 수 있다.

꽃 하나 심겠다고 포크레인을 들고올 필요는 없지 않는가?

## Reference

https://opentutorials.org/course/697/3828

https://asfirstalways.tistory.com/180